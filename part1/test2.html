<!DOCTYPE html>
<html>
<head>
    <title>A-Frame / WebXR / AR / Hit Test</title>
    <meta name="description" content="Hello, WebVR! - A-Frame">
    <script>window.debug = true;</script>
    <script src="https://rawgit.com/arturitu/aframe-xr/master/vendor/aframe-v0.7.1.js"></script>
    <script src="https://rawgit.com/arturitu/aframe-xr/master/dist/aframe-xr.js"></script>
    <script src="https://rawgit.com/arturitu/aframe-xr/master/examples/lib/hit-test.js"></script>
    <script src="https://aframe.argonjs.io/resources/js/aframe-look-at-component.js"></script>
</head>
<body>
<a-scene hit-test>
</a-scene>

<script>
    var scene = AFRAME.scenes[0];

    var newObject = function(data) {
        var entity = data.detail;

        entity.setAttribute('geometry', {
            primitive: 'box',
            width: 0.1,
            height: 0.1,
            depth: 0.1
        });

        entity.setAttribute('material', {
            shader: 'standard',
            transparent: true,
            opacity: 0.45,
            fog: false,
            color: '#ffcc00'
        });

        var txt = document.createElement('a-text');
        txt.setAttribute('scale', "0.5");
        txt.setAttribute('value', "Hello World");
        txt.setAttribute('billboard', {});
        txt.setAttribute('align', "center")
        entity.appendChild(txt)

        scene.appendChild(entity);
    }

    scene.addEventListener('newAnchoredEntity', newObject);
</script>
</body>
</html>


